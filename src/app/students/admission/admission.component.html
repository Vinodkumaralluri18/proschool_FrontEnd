<div id="main-content1">
  <div class="blue-top-bar"></div>
  <div class="row-wrapper center-content">
    <button class="btn -cta" [ngClass]="[studentdetails ? 'active-tab': 'inactive-tab']"
      (click)="get_studentForm('studentdetails')">Student
      Details</button>
    <button class="btn -cta" [ngClass]="[parentdetails ? 'active-tab': 'inactive-tab']"
      (click)="get_studentForm('parentdetails')">Parent/Guardian
      Details</button>
    <button class="btn -cta" [ngClass]="[address ? 'active-tab': 'inactive-tab']"
      (click)="get_studentForm('address')">Address</button>
  </div>

  <form [formGroup]="studentadmissionForm" (submit)="submitStudent()">

    <div *ngIf="studentdetails">
      <div class="row-wrapper">
        <div class="col-full-3">
          <div class="form-group" [ngClass]="{'has-error' : studentadmissionForm.get('admission_no').errors 
            && (studentadmissionForm.get('admission_no').touched || studentadmissionForm.get('admission_no').dirty)}">
            <label class="heading">Admission No*</label>
            <div>
              <input class="inpbox" type="text" formControlName="admission_no" [(ngModel)]="student.admission_no">
              <span class="help-block" *ngIf="!is_admission_no_valid">Please enter valid admission number.</span>
            </div>
          </div>
        </div>
        <div class="col-full-3">
          <div class="form-group" [ngClass]="{'has-error' : studentadmissionForm.get('roll_no').errors 
            && (studentadmissionForm.get('roll_no').touched || studentadmissionForm.get('roll_no').dirty)}">
            <label class="heading">Roll No*</label>
            <div><input type="text" class="inpbox" formControlName="roll_no" [(ngModel)]="student.roll_no">
              <span class="help-block" *ngIf="!is_roll_no_valid">Please enter valid roll number.</span>
            </div>
          </div>
        </div>
        <div class="col-full-3">
          <div class="form-group" [ngClass]="{'has-error' : studentadmissionForm.get('first_name').errors 
            && (studentadmissionForm.get('first_name').touched || studentadmissionForm.get('first_name').dirty)}">
            <label class="heading">First Name*</label>
            <div><input class="inpbox" type="text" formControlName="first_name" [(ngModel)]="student.first_name">
              <span class="help-block" *ngIf="!validFirstName">Please enter valid first name.</span>
            </div>
          </div>
        </div>
        <div class="col-full-3">
          <div class="form-group" [ngClass]="{'has-error' : studentadmissionForm.get('last_name').errors 
            && (studentadmissionForm.get('last_name').touched || studentadmissionForm.get('last_name').dirty)}">
            <label class="heading">Last Name*</label>
            <div><input type="text" class="inpbox" formControlName="last_name" [(ngModel)]="student.last_name">
              <span class="help-block" *ngIf="!validLastName">Please enter valid last name.</span>
            </div>
          </div>
        </div>
      </div>

      <div class="row-wrapper">
        <div class="col-full-3">
          <div class="form-group">
            <label class="heading">Gender*</label>
            <select name="standard" formControlName="gender">
              <option value="">--Select--</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
            </select>
            <span class="help-block dropdown-error-msg" *ngIf="!isValidGenderDD">Please select gender.</span>
          </div>
        </div>
        <div class="col-full-3">
          <div class="form-group" [ngClass]="{'has-error' : studentadmissionForm.get('dob').errors 
            && (studentadmissionForm.get('dob').touched || studentadmissionForm.get('dob').dirty)}">
            <label class="heading">Date of Birth*</label>
            <input type="text" formControlName="dob" [(ngModel)]="student.dob" placeholder="DD/MM/YYYY"
              inputmode="numeric" autocomplete="off" class="form-control" (keyup)="addSlashToDOB($event)" />
            <span *ngIf="!isDOBValid" class="help-block">Please enter valid DOB.</span>
          </div>
        </div>
        <div class="col-full-3">
          <div class="form-group" [ngClass]="{'has-error' : studentadmissionForm.get('category').errors 
            && (studentadmissionForm.get('category').touched || studentadmissionForm.get('category').dirty)}">
            <label class="heading">Category*</label>
            <select name="standard" formControlName="category">
              <option value="">--Select--</option>
              <option value="OC" >OC</option>
              <option value="OBC" >OBC</option>
              <option value="BC-A" >BC-A</option>
              <option value="BC-B" >BC-B</option>
              <option value="BC-C" >BC-C</option>
              <option value="BC-D" >BC-D</option>
              <option value="Minority" >Minority</option>
            </select>
            <span class="help-block dropdown-error-msg" *ngIf="!isValidCategoryDD">Please select category.</span>
          </div>
        </div>
        <div class="col-full-3">
          <div class="form-group" [ngClass]="{'has-error' : studentadmissionForm.get('nationality').errors 
            && (studentadmissionForm.get('nationality').touched || studentadmissionForm.get('nationality').dirty)}">
            <label class="heading">Nationality*</label>
            <div><input type="text" class="inpbox" formControlName="nationality" [(ngModel)]="student.nationality">
              <span *ngIf="!validNationality" class="help-block">Please enter valid nationality.</span>
            </div>
          </div>
        </div>
      </div>

      <div class="row-wrapper">

        <div class="col-full-3">
          <div class="form-group" [ngClass]="{'has-error' : studentadmissionForm.get('phone').errors 
            && (studentadmissionForm.get('phone').touched || studentadmissionForm.get('phone').dirty)}">
            <label class="heading">Contact No*</label>
            <div>
              <input type="text" class="inpbox" formControlName="phone" [(ngModel)]="student.phone" placeholder=""
                maxlength="10" inputmode="numeric" autocomplete="off" class="form-control" />
              <span class="help-block" *ngIf="!is_student_mobile_valid">Please enter valid contact number.</span>
            </div>
          </div>
        </div>
        <div class="col-full-3">
          <div class="form-group" [ngClass]="{'has-error' : studentadmissionForm.get('aadhar_no').errors 
            && (studentadmissionForm.get('aadhar_no').touched || studentadmissionForm.get('aadhar_no').dirty)}">
            <label class="heading">Aadhaar No*</label>
            <div>
              <input type="text" class="inpbox" formControlName="aadhar_no" [(ngModel)]="student.aadhar_no">
              <span class="help-block" *ngIf="!is_adhar_no_valid">Please enter valid ADHAR number.</span>
            </div>
          </div>
        </div>
        <div class="col-full-3">
          <div class="form-group">
            <label class="heading">Blood Group</label>
            <select name="standard" formControlName="blood_group">
              <option value="" >--Select--</option>
              <option value="O+" >O+</option>
              <option value="O-" >O-</option>
              <option value="A+" >A+</option>
              <option value="A-" >A-</option>
              <option value="B+" >B+</option>
              <option value="B-" >B-</option>
              <option value="AB+" >AB+</option>
              <option value="AB-" >AB-</option>
            </select>
            <span class="help-block dropdown-error-msg" *ngIf="!isValidBloodDD">Please select Blood Group.</span>
          </div>
        </div>
        <div class="col-full-3">
          <div class="form-group"
            [ngClass]="{'has-error' : studentadmissionForm.get('admission_date').errors 
            && (studentadmissionForm.get('admission_date').touched || studentadmissionForm.get('admission_date').dirty)}">
            <label class="heading">Admission Date*</label>
            <input type="text" formControlName="admission_date" [(ngModel)]="student.admission_date"
              placeholder="DD/MM/YYYY" inputmode="numeric" autocomplete="off" class="form-control"
              (keyup)="addSlashToDOfAdmission($event)" />
            <span class="help-block" *ngIf="!isDOfAdmissionValid">Please enter valid date of admission.</span>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-3 pull-left tab-btn">
          <div class="btn -cta inactive-tab" (click)="close()">Cancel</div>
        </div>
        <div class="col-md-3 pull-right tab-btn">
          <div class="btn -cta active-tab" (click)="get_studentForm('parentdetails')">Next</div>
        </div>
      </div>
    </div>

    <div *ngIf="parentdetails">
      <div class="row-wrapper">
        <div class="col-full-3">
          <div class="form-group" [ngClass]="{'has-error' : studentadmissionForm.get('father_name').errors 
            && (studentadmissionForm.get('father_name').touched || studentadmissionForm.get('father_name').dirty)}">
            <label class="heading">Father Name*</label>
            <div><input type="text" class="inpbox" formControlName="father_name" name="father_name" [(ngModel)]="student.father_name">
              <span class="help-block" *ngIf="!is_father_name_valid">Please enter father name.</span>
            </div>
          </div>
        </div>
        
        <div class="col-full-3">
          <div class="form-group"
            [ngClass]="{'has-error' : studentadmissionForm.get('father_contact').errors
            && (studentadmissionForm.get('father_contact').touched || studentadmissionForm.get('father_contact').dirty)}">
            <label class="heading">Father Phone</label>
            <div>
              <input type="number" class="inpbox" formControlName="father_contact"
                [(ngModel)]="student.parents[0].parent_contact" placeholder="" maxlength="10" inputmode="numeric"
                autocomplete="off"  class="form-control" pattern="^\d{10}$" required/>
              <span class="help-block" *ngIf="!is_father_mobile_valid">Please enter valid contact number.</span>
              <div *ngIf="studentadmissionForm.get('father_contact').invalid && 
                studentadmissionForm.get('father_contact').errors && 
                (studentadmissionForm.get('father_contact').dirty || studentadmissionForm.get('father_contact').touched)">

            <small class="text-danger"
                *ngIf="studentadmissionForm.get('father_contact').hasError('pattern')">
                Please Enter correct Number
            </small>

        </div>
            </div>
          </div>
        </div>
        <div class="col-full-3">
          <div class="form-group">
            <label class="heading">Father Email</label>
            <input class="inpbox" type="email" [pattern]="emailPattern" formControlName="father_email" [(ngModel)]="student.parents[0].parent_email"
             >
            <span class="help-block" *ngIf="!is_father_email_valid">Please enter valid email id.</span>
            <small class="text-danger"
            *ngIf="studentadmissionForm.get('father_email').hasError('pattern')">
            Please Enter correct mail
        </small>
          </div>
        </div>
        <div class="col-full-3">
          <div class="form-group">
            <label class="heading">Father Occupation</label>
            <input class="inpbox" type="text" formControlName="father_occupation"
              [(ngModel)]="student.parents[0].occupation" [pattern]="unamePattern"
              >
            <span class="help-block" *ngIf="!is_father_occ_valid">Please enter valid occupation.</span>
            <small class="text-danger"
            *ngIf="studentadmissionForm.get('father_occupation').hasError('pattern')">
            Please Enter only alphabets
        </small>
          </div>
        </div>
      </div>

      <div class="row-wrapper">
        <div class="col-full-3">
          <div class="form-group">
            <label class="heading">Mother Name</label>
            <input class="inpbox" type="text" formControlName="mother_name" [pattern]="unamePattern" [(ngModel)]="student.parents[1].parent_name"
              >
            <span class="help-block" *ngIf="!is_mother_name_valid">Please enter valid mother name.</span>
            <small class="text-danger"
                *ngIf="studentadmissionForm.get('mother_name').hasError('pattern')">
                Please Enter only alphabets
            </small>

          </div>
        </div>
        <div class="col-full-3">
          <div class="form-group">
            <label class="heading">Mother Phone</label>
            <input type="number" class="inpbox" formControlName="mother_contact"
              [(ngModel)]="student.parents[1].parent_contact" placeholder="" maxlength="10" inputmode="numeric"
              autocomplete="off"  class="form-control" pattern="^\d{10}$" required/>
            <span class="help-block" *ngIf="!is_mother_mobile_valid">Please enter valid contact number.</span>
            <div *ngIf="studentadmissionForm.get('mother_contact').invalid && 
                studentadmissionForm.get('mother_contact').errors && 
                (studentadmissionForm.get('mother_contact').dirty || studentadmissionForm.get('mother_contact').touched)">

            <small class="text-danger"
                *ngIf="studentadmissionForm.get('mother_contact').hasError('pattern')">
                Please Enter correct Number
            </small>

        </div>
          </div>
        </div>
        <div class="col-full-3">
          <div class="form-group">
            <label class="heading">Mother Email</label>
            <input class="inpbox" type="email" [pattern]="emailPattern" formControlName="mother_email" [(ngModel)]="student.parents[1].parent_email">
            <span class="help-block" *ngIf="!is_mother_email_valid">Please enter valid email id.</span>
            <small class="text-danger"
                *ngIf="studentadmissionForm.get('mother_email').hasError('pattern')">
                Please Enter correct mail
            </small>
          </div>
        </div>
        <div class="col-full-3">
          <div class="form-group">
            <label class="heading">Mother Occupation</label>
            <input class="inpbox" type="text" formControlName="mother_occupation"
              [(ngModel)]="student.parents[1].occupation" [pattern]="unamePattern"
              >
            <span class="help-block" *ngIf="!is_mother_occ_valid">Please enter valid occupation.</span>
            <small class="text-danger"
            *ngIf="studentadmissionForm.get('mother_occupation').hasError('pattern')">
            Please Enter only alphabets
        </small>
          </div>
        </div>
      </div>

      <div class="row-wrapper">
        <div class="col-full-3">
          <div class="form-group">
            <label class="heading">Guardian Name</label>
            <input class="inpbox" type="text" formControlName="gaurdian_name" [pattern]="unamePattern" [(ngModel)]="student.parents[2].parent_name"
              >
            <span class="help-block" *ngIf="!is_guardian_name_valid">Please enter valid guardian name.</span>
            <small class="text-danger"
                *ngIf="studentadmissionForm.get('father_name').hasError('pattern')">
                Please Enter only alphabets
            </small>
          </div>
        </div>
        <div class="col-full-3">
          <div class="form-group"
            [ngClass]="{'has-error' : studentadmissionForm.get('gaurdian_contact').errors && (studentadmissionForm.get('gaurdian_contact').touched || studentadmissionForm.get('gaurdian_contact').dirty)}">
            <label class="heading">Guardian Phone</label>
            <div>
              <input type="number" class="inpbox" formControlName="gaurdian_contact"
                [(ngModel)]="student.parents[2].parent_contact" placeholder="" maxlength="10" inputmode="numeric"
                autocomplete="off" class="form-control" pattern="^\d{10}$" required />
              <span class="help-block" *ngIf="!is_father_mobile_valid">Please enter valid contact number.</span>
              <div *ngIf="studentadmissionForm.get('gaurdian_contact').invalid &&  studentadmissionForm.get('gaurdian_contact').errors &&  (studentadmissionForm.get('gaurdian_contact').dirty || studentadmissionForm.get('gaurdian_contact').touched)">
                <small class="text-danger" *ngIf="studentadmissionForm.get('gaurdian_contact').hasError('pattern')">
                  Please Enter correct Number
                </small> 
              </div>
            </div>
          </div>
        </div>
        <!-- <div class="col-full-3">
          <div class="form-group">
            <label class="heading">Guardian Phone</label>
            <input type="text" class="inpbox" formControlName="gaurdian_contact"
              [(ngModel)]="student.parents[2].parent_contact" placeholder="" maxlength="10" inputmode="numeric"
              autocomplete="off"  class="form-control" />
            <span class="help-block" *ngIf="!is_guardian_mobile_valid">Please enter valid contact number.</span>
          </div>
        </div> -->
        <div class="col-full-3">
          <div class="form-group">
            <label class="heading">Guardian Email</label>
            <input class="inpbox" type="email" formControlName="gaurdian_email" [pattern]="emailPattern" [(ngModel)]="student.parents[2].parent_email">
            <span class="help-block" *ngIf="!is_guardian_email_valid">Please enter valid email id.</span>
            <small class="text-danger"
            *ngIf="studentadmissionForm.get('gaurdian_email').hasError('pattern')">
            Please Enter correct mail
        </small>
          </div>
        </div>
        <div class="col-full-3">
          <div class="form-group">
            <label class="heading">Guardian Occupation</label>
            <input class="inpbox" type="text" formControlName="gaurdian_occupation" [pattern]="unamePattern"
              [(ngModel)]="student.parents[2].occupation"
              >
            <span class="help-block" *ngIf="!is_guardian_occ_valid">Please enter valid occupation.</span>
            <small class="text-danger"
            *ngIf="studentadmissionForm.get('gaurdian_occupation').hasError('pattern')">
            Please Enter only alphabets
        </small>
          </div>
        </div>
      </div>

      <div class="row-wrapper">
        <div class="col-full-3">
          <div class="form-group">
            <label class="heading">Guardian Relation</label>
            <input class="inpbox" type="text" formControlName="gaurdian_relation" [pattern]="unamePattern"
              [(ngModel)]="student.parents[2].parent_relation"
              >
            <span class="help-block" *ngIf="!is_guardian_relation_valid">Please enter valid guardian relation.</span>
            <small class="text-danger"
            *ngIf="studentadmissionForm.get('gaurdian_relation').hasError('pattern')">
            Please Enter only alphabets
        </small>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-3 pull-left tab-btn">
          <div class="btn -cta inactive-tab" (click)="close()">Cancel</div>
        </div>
        <div class="col-md-3 pull-right tab-btn">
          <div class="btn -cta active-tab" (click)="get_studentForm('studentdetails')">Previous</div>
          <div class="btn -cta active-tab" (click)="get_studentForm('address')">Next</div>
        </div>
      </div>
    </div>

    <div *ngIf="address">
      <div class="row-wrapper">
        <div class="col-full-6">
          <div class="form-group" [ngClass]="{'has-error' : studentadmissionForm.get('cur_address').errors 
          && (studentadmissionForm.get('cur_address').touched || studentadmissionForm.get('cur_address').dirty)}">
            <label class="heading">Current Address :</label>
            <div><textarea formControlName="cur_address" cols="45" rows="5"
                ([ngModal])="student.current_address[0].cur_address" name="cur_address" required
                >
           </textarea>
              <span class="help-block" *ngIf="!is_current_address_valid">Please enter valid address.</span>
            <small class="text-danger"
                *ngIf="studentadmissionForm.get('cur_address').touched">
                Please Enter Current Address
            </small>
            </div>
          </div>
        </div>
        <div class="col-full-6">
          <div class="form-group">
            <label class="heading">Permanent Address :</label>
            <div><textarea formControlName="perm_address" cols="45" rows="5"
                [value]="student.permanent_address[0].perm_address"
                (blur)="validateText(student.permanent_address[0].perm_address, 'perm-address')"></textarea>
              <span class="help-block" *ngIf="!is_perm_address_valid">Please enter valid address.</span>
            </div>
          </div>
        </div>
      </div>

      <!-- <div class="row-wrapper">
        <div class="col-full-6" *ngIf="dialog_type == 'add'">
          <div class="form-group">
            <label class="heading">Upload Photo :</label>
            <input id="file-input-studProfPic" type="file" name="image" (change)="studentProfPic($event.target.files)" />
            <label>{{studentphoto == '' ? studentphoto : 'No file chosen'}}</label>
          </div>
        </div>
        <div>
          <img  src="{{studentImagee}}" alt="" class="_pic" width="50">
        </div>
      </div> -->
      <div class="row-wrapper">
        <div class="col-full-6">
          <div class="form-group">
            <label class="heading">Upload Photo :</label>
            <input id="file-input-studProfPic" type="file" name="image" (change)="studentProfPic($event.target.files)" />
            <!-- <label>{{studentphoto == '' }}</label> -->
          </div>
        </div>
        <div>
          <img  src="{{studentImagee}}" alt="" class="_pic" width="50">
        </div>
      </div>

      <div class="row">
        <div class="col-md-3 pull-left">
          <div class="btn -cta inactive-tab tab-btn" (click)="close()">Cancel</div>
          <button class="btn -cta active-tab" type="submit">Save</button>
        </div>
        <div class="col-md-3 pull-right">
          <div class="btn -cta active-tab" (click)="get_studentForm('parentdetails')">Previous</div>
        </div>
      </div>
    </div>

  </form>